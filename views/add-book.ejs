<div
  id="add-book-modal"
  class="modal"
  role="dialog"
  aria-labelledby="add-book-title"
  aria-hidden="true"
>
  <div class="modal-content">
    <h2 id="add-book-title">âœ¨ Add a New Book</h2>
    <form id="add-book-form" action="/books/add" method="POST">
      <div class="form-group">
        <label for="title">ğŸ“š Title:</label>
        <input
          type="text"
          id="title"
          name="title"
          required
          aria-required="true"
          aria-describedby="title-helper"
        />
        <small id="title-helper" class="helper-text"
          >Enter the book's title.</small
        >
      </div>

      <div class="form-group">
        <label for="author">ğŸ–Šï¸ Author:</label>
        <input
          type="text"
          id="author"
          name="author"
          required
          aria-required="true"
          aria-describedby="author-helper"
        />
        <small id="author-helper" class="helper-text"
          >Enter the author's name.</small
        >
      </div>

      <div class="form-group">
        <label for="description">ğŸ“ Description:</label>
        <textarea
          id="description"
          name="description"
          required
          aria-required="true"
          aria-describedby="description-helper"
        ></textarea>
        <small id="description-helper" class="helper-text"
          >Provide a brief description of the book.</small
        >
      </div>

      <div class="form-group">
        <label for="genre">ğŸ­ Genre:</label>
        <input
          type="text"
          id="genre"
          name="genre"
          required
          aria-required="true"
          aria-describedby="genre-helper"
        />
        <small id="genre-helper" class="helper-text"
          >Specify the genre of the book.</small
        >
      </div>

      <div class="form-group">
        <label for="published-date">ğŸ“… Published Date:</label>
        <input
          type="date"
          id="published-date"
          name="published-date"
          required
          aria-required="true"
        />
      </div>

      <div class="form-group">
        <label for="isbn">ğŸ“– ISBN:</label>
        <input
          type="text"
          id="isbn"
          name="isbn"
          pattern="^\d{13}$"
          title="ISBN must be 13 digits"
          required
          aria-required="true"
          aria-describedby="isbn-helper"
        />
        <small id="isbn-helper" class="helper-text"
          >Enter a valid 13-digit ISBN.</small
        >
      </div>

      <button type="submit">ğŸš€ Add Book</button>
    </form>

    <div id="loadingMessage" style="display: none">
      <p>ğŸŒ Submitting the book...</p>
    </div>

    <div id="successMessage" style="display: none">
      <p>ğŸ‰ Book added successfully!</p>
    </div>
  </div>
</div>

<script>
  const form = document.getElementById("add-book-form");
  const loadingMessage = document.getElementById("loadingMessage");
  const successMessage = document.getElementById("successMessage");

  form.addEventListener("submit", (event) => {
    loadingMessage.style.display = "block";
    successMessage.style.display = "none";

    event.preventDefault();

    setTimeout(() => {
      loadingMessage.style.display = "none";
      successMessage.style.display = "block";

      setTimeout(() => {
        form.submit();
      }, 2000);
    }, 2000);
  });
</script>
